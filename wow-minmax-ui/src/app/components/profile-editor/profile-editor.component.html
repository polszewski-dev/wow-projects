<div>
	<app-dps-bar [dps]="dps" [dpsDiff]="dps && previousDps ? dps - previousDps : 0"></app-dps-bar>

	<nav ngbNav #nav="ngbNav" class="nav-tabs">
		<ng-container ngbNavItem>
			<a ngbNavLink>Equipment</a>
			<ng-template ngbNavContent>
				<app-equipment-editor
					[selectedCharacterId]="selectedCharacterId"
					[upgradesBySlotGroup]="upgradesBySlotGroup"
					(equipmentChanged)="onEquipmentChanged()"
				></app-equipment-editor>
				<app-upgrade-list
					[upgradesBySlotGroup]="upgradesBySlotGroup"
				></app-upgrade-list>
			</ng-template>
		</ng-container>
		<ng-container ngbNavItem>
			<a ngbNavLink>Buffs</a>
			<ng-template ngbNavContent>
				<app-buff-editor [selectedCharacterId]="selectedCharacterId" (buffsChanged)="onBuffsChanged()"></app-buff-editor>
			</ng-template>
		</ng-container>
		<ng-container ngbNavItem>
			<a ngbNavLink>Results</a>
			<ng-template ngbNavContent>
				<div class="stats-header">Spell Stats</div>
				<app-spell-stats [selectedCharacterId]="selectedCharacterId"></app-spell-stats>
				<div class="stats-header">Character Stats</div>
				<app-character-stats [selectedCharacterId]="selectedCharacterId"></app-character-stats>
				<div class="stats-header">Special Abilities</div>
				<app-special-abilities [selectedCharacterId]="selectedCharacterId"></app-special-abilities>
				<div class="stats-header">Talents</div>
				<app-talent-list [selectedCharacterId]="selectedCharacterId"></app-talent-list>
			</ng-template>
		</ng-container>
	</nav>

	<div [ngbNavOutlet]="nav"></div>
</div>
